(this.webpackJsonpchatroom=this.webpackJsonpchatroom||[]).push([[0],{104:function(e,a,t){},105:function(e,a,t){},108:function(e,a,t){},109:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(27),c=t.n(s);t(63);var o=function(){return r.a.createElement("div",{className:"container-fluid"},"Hola mundo")},l=t(10),i=t(12),m=t(16),u=t(15),d=t(53),h=t.n(d),v=t(54),g=t.n(v),f=1,p=2,b=function e(a,t,n,r){Object(l.a)(this,e),this.uname=a,this.message=t,this.type=n,this.color=r},E=null,N=function(){function e(a,t,n,r){var s=this;Object(l.a)(this,e),this.onConnect=function(){s.stompClient.subscribe(s.topic,s.onMessageReceived),s.stompClient.send(s.suscriveURL,{},JSON.stringify(new b(s.uname,null,f,s.color)))},this.onError=function(e){console.log("error al conectarse:"+e)},this.onMessageReceived=function(e){var a=JSON.parse(e.body);console.log("message",a)},this.uname=a,this.stompClient=null,this.suscriveURL=t,this.serverUrl=n,this.topic=r,this.connect();var c=this.randomBackground();this.color="".concat(c[0],",").concat(c[1],",").concat(c[2])}return Object(i.a)(e,[{key:"connect",value:function(e){if(e&&e.preventDefault(),this.uname){var a=new h.a(this.serverUrl);this.stompClient=g.a.over(a),this.stompClient.connect({},this.onConnect,this.onError)}}},{key:"randomBackground",value:function(){return[Math.floor(127*Math.random()),Math.floor(127*Math.random()),Math.floor(127*Math.random())]}},{key:"send",value:function(e,a,t){e.preventDefault();var n=a;if(n&&this.stompClient){var r=new b(this.uname,n,p,this.color);this.stompClient.send(t,{},JSON.stringify(r))}}}]),e}();var y=function(e){return E||(E=new N(e,"/app/chat.register","/xinderal/chat","/topic/public")),E},C=(r.a.Component,t(25)),w=t(26),k=(t(104),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).state={messageBody:e.messageBody},n.bgc=e.gackGroundColor,n}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"media message-container"},r.a.createElement("div",{style:{backgroundColor:"RGB(".concat(this.state.messageBody.color,")")},className:"mr-3 user-view"},this.state.messageBody.uname[0]),r.a.createElement("div",{className:"media-body"},r.a.createElement("div",{className:"mt-0"},this.state.messageBody.type===f?"".concat(this.state.messageBody.uname," se ha unido"):this.state.messageBody.message)))}}]),t}(r.a.Component)),O=(t(105),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onMessageReceived=function(e){var a=JSON.parse(e.body);n.state.messages.push(a),n.setState({messages:n.state.messages},(function(){return n.scrollToMyRef()}))},n.handleSend=function(e){e.preventDefault(),n.state.stompClientP.send(e,n.state.message,"/app/chat.send"),n.setState({message:""},(function(){return n.scrollToMyRef()}))},n.handleChange=function(e){n.setState({message:e.target.value})},n.handleKeyPressed=function(e){"Enter"===e.key&&n.handleSend(e)},n.scrollToMyRef=function(){var e=n.chatContainer.current.scrollHeight-n.chatContainer.current.clientHeight;n.chatContainer.current.scrollTo(0,e)},n.state={stompClientP:y(e.uname),message:null,messages:[],userAlias:e.uname[0]},n.state.stompClientP.onMessageReceived=n.onMessageReceived,n.chatContainer=r.a.createRef(),n}return Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row chat-room"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body messages-container",ref:this.chatContainer},this.state.messages.map((function(e){return r.a.createElement(k,{messageBody:e})}))),r.a.createElement("div",{className:"card-body chatInput"},r.a.createElement("form",{className:"form-inline"},r.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Mensaje",value:this.state.message,onChange:this.handleChange,onKeyPress:this.handleKeyPressed})),r.a.createElement("button",{type:"button",class:"btn btn-primary mb-2",onClick:function(a){e.handleSend(a)}},r.a.createElement(C.a,{icon:w.b}))))))}}]),t}(r.a.Component)),j=t(55),S=t(4),x=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={toggle:!1,registeredUser:!1,stompClient:null,uname:""},e.callbackFunctionRegistry=function(a){e.setState({registeredUser:a.registeredUser})},e.handleClick=function(){e.setState({toggle:!e.state.toggle})},e.handleRegistry=function(a){a.preventDefault(),e.state.uname&&e.setState({stompClient:y(e.state.uname),registeredUser:""!==e.state.uname})},e.handleChange=function(a){e.setState({uname:a.target.value})},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a=r.a.createElement("div",{className:"container-fluid"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Usuario"),r.a.createElement("input",{className:"form-control",id:"uname",type:"text",value:this.state.uname,onChange:this.handleChange})),r.a.createElement("button",{type:"buton",className:"btn btn-primary",onClick:function(a){e.handleRegistry(a)}},"Registrarse"))),t=null;t=this.state.registeredUser?r.a.createElement(O,{uname:this.state.uname}):a;var n=r.a.createElement("div",{className:"row",style:this.state.toggle?{}:{display:"none"}},t);return r.a.createElement("div",{className:"fixed-bottom d-flex align-items-end flex-column"},n,r.a.createElement("button",{onClick:function(){e.handleClick()},type:"button",className:"btn btn-info"},r.a.createElement(C.a,{icon:w.a})," Chat"))}}]),t}(r.a.Component);var R=function(){return r.a.createElement(j.a,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement(S.c,null,r.a.createElement(S.a,{path:"/",exact:!0,component:o})),r.a.createElement(x,null))))};var B=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 2020 Copyright:",r.a.createElement("a",{href:"#"}," Tona")))},M=(t(108),t(57)),U=t.n(M);var D=function(){return r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light justify-content-between"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Navbar"),r.a.createElement("div",{className:"user-account-component row"},r.a.createElement("img",{src:U.a,className:"img-thumbnail user-img"}),r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"row"},r.a.createElement("span",null,"Usuario")),r.a.createElement("div",{className:"row"},r.a.createElement("a",{href:"#"},"Cuenta"))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light justify-content-between"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Ubicaci\xf3n"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"#"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#"},"Link")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Dropdown"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("a",{className:"dropdown-item",href:"#"},"Action"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Another action"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Something else here"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link disabled",href:"#",tabIndex:"-1","aria-disabled":"true"},"Disabled")))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(D,null),document.getElementById("header")),c.a.render(r.a.createElement(R,null),document.getElementById("root")),c.a.render(r.a.createElement(B,null),document.getElementById("footer")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e,a,t){e.exports=t.p+"static/media/user_image.cc219bc5.png"},58:function(e,a,t){e.exports=t(109)},63:function(e,a,t){}},[[58,1,2]]]);
//# sourceMappingURL=main.08926b32.chunk.js.map